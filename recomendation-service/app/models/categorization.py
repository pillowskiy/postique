import logging
import os
import json
from typing import List, Dict, Any, Optional
import traceback
import numpy as np
import re

import joblib
from app.config import settings
from app.models.embedding import TextEmbedding


class CategoryClassifier:
    def __init__(self):
        self.model_path = f"models/{settings.CATEGORY_MODEL_NAME}"
        self.embedding_model = TextEmbedding()
        self.keywords_path = f"{self.model_path}/category_keywords.json"

        try:
            self.categories = self._load_categories()
            self.model = self._load_model()
            self.category_keywords = self._load_keywords()
            self.subcategories = self._load_subcategories()
            logging.info("Category model and associated data loaded successfully")
        except Exception as e:
            logging.error(f"Error loading category model: {e}")
            logging.error(traceback.format_exc())
            self.categories = self._get_default_categories()
            self.category_keywords = self._get_default_keywords()
            self.subcategories = self._get_default_subcategories()
            self.model = None

    def predict_categories(
        self, title: str, description: str, content: str
    ) -> List[str]:
        try:
            if self.model is None:
                return self._rule_based_classification(title, description)

            features = self._extract_features(title, description, content)
            prediction = self.model.predict_proba(features)

            top_indices = np.argsort(prediction[0])[-3:][::-1]
            threshold = 0.1

            categories = []
            for idx in top_indices:
                if prediction[0][idx] >= threshold:
                    categories.append(self.categories[idx])

            if not categories:
                categories = self._rule_based_classification(title, description)

            return categories

        except Exception as e:
            logging.error(f"Error predicting categories: {e}")
            return self._rule_based_classification(title, description)

    def _rule_based_classification(
        self, title: str, description: str, content: str = ""
    ) -> List[str]:
        combined_text = f"{title} {description} {content}".lower()
        categories = []

        for category, keywords in self.category_keywords.items():
            if any(keyword in combined_text for keyword in keywords):
                categories.append(category)

        return categories

    def _preprocess_text(self, title: str, description: str, content: str) -> str:
        combined_text = f"{title} {title} {description} {content[:1000]}"
        combined_text = re.sub(r"\s+", " ", combined_text).strip().lower()
        return combined_text

    def _extract_features(
        self, title: str, description: str, content: str
    ) -> np.ndarray:
        text = self._preprocess_text(title, description, content)
        return np.array(self.embedding_model.get_embedding(text)).reshape(1, -1)

    def _load_model(self) -> Optional[Any]:
        try:
            if os.path.exists(f"{self.model_path}/model.pkl"):
                return joblib.load(f"{self.model_path}/model.pkl")
            logging.warning("Model file not found, falling back to rule-based classification")
            return None
        except Exception as e:
            logging.error(f"Failed to load model: {e}")
            logging.error(traceback.format_exc())
            return None

    def _load_categories(self) -> List[str]:
        """Load the main categories from file."""
        try:
            if os.path.exists(f"{self.model_path}/categories.json"):
                with open(f"{self.model_path}/categories.json", "r", encoding="utf-8") as f:
                    return json.load(f)
            logging.warning("Categories file not found, using defaults")
            return self._get_default_categories()
        except Exception as e:
            logging.error(f"Failed to load categories: {e}")
            logging.error(traceback.format_exc())
            return self._get_default_categories()

    def save_categories_to_json(self):
        try:
            os.makedirs(self.model_path, exist_ok=True)

            with open(f"{self.model_path}/categories.json", "w", encoding="utf-8") as f:
                json.dump(self.categories, f, ensure_ascii=False, indent=2)

            with open(self.keywords_path, "w", encoding="utf-8") as f:
                json.dump(self.category_keywords, f, ensure_ascii=False, indent=2)

            with open(f"{self.model_path}/subcategories.json", "w", encoding="utf-8") as f:
                json.dump(self.subcategories, f, ensure_ascii=False, indent=2)

            logging.info("Categories, keywords and subcategories saved to JSON files")
            return True
        except Exception as e:
            logging.error(f"Error saving categories to JSON: {e}")
            logging.error(traceback.format_exc())
            return False

    def _load_keywords(self) -> Dict[str, List[str]]:
        try:
            if os.path.exists(self.keywords_path):
                with open(self.keywords_path, "r", encoding="utf-8") as f:
                    return json.load(f)
            logging.warning("Keywords file not found, using defaults")
            return self._get_default_keywords()
        except Exception as e:
            logging.error(f"Failed to load keywords: {e}")
            logging.error(traceback.format_exc())
            return self._get_default_keywords()

    def _load_subcategories(self) -> Dict[str, List[str]]:
        try:
            if os.path.exists(f"{self.model_path}/subcategories.json"):
                with open(f"{self.model_path}/subcategories.json", "r", encoding="utf-8") as f:
                    return json.load(f)
            logging.warning("Subcategories file not found, using defaults")
            return self._get_default_subcategories()
        except Exception as e:
            logging.error(f"Failed to load subcategories: {e}")
            logging.error(traceback.format_exc())
            return self._get_default_subcategories()

    def _get_default_categories(self) -> List[str]:
        return [
            "Новини", "Спорт", "Технології", "Культура", "Політика",
            "Економіка", "Здоров'я", "Освіта", "Розваги", "Наука",
            "Подорожі", "Мода", "Їжа", "Автомобілі", "Нерухомість",
            "Сім'я", "Історія", "Природа", "Релігія", "Військова тематика",
            "Право", "Робота та кар'єра", "Хобі", "Тварини", "Література",
            "Мистецтво", "Музика", "Кіно", "Телебачення", "Ігри",
            "Інтернет", "Соціальні медіа", "Екологія", "Психологія", "Інше"
        ]

    def _get_default_subcategories(self) -> Dict[str, List[str]]:
        return {
            "Новини": ["Головні події", "Регіональні новини", "Міжнародні новини", "Соціальні новини"],
            "Спорт": ["Футбол", "Баскетбол", "Теніс", "Бокс", "Легка атлетика", "Зимові види", "Автоспорт", "Плавання"],
            "Технології": ["Гаджети", "Програмне забезпечення", "Штучний інтелект", "Кібербезпека", "Інновації", "Стартапи"],
            "Культура": ["Виставки", "Театр", "Фестивалі", "Культурна спадщина", "Сучасне мистецтво"],
            "Політика": ["Внутрішня політика", "Міжнародні відносини", "Вибори", "Законодавство", "Політичні партії"],
            "Економіка": ["Фінанси", "Бізнес", "Інвестиції", "Криптовалюти", "Ринок праці", "Торгівля"],
            "Здоров'я": ["Медицина", "Профілактика", "Психічне здоров'я", "Фітнес", "Харчування", "Епідемії"],
            "Освіта": ["Школа", "Університети", "Онлайн-навчання", "Професійна освіта", "Навчання за кордоном"],
            "Розваги": ["Знаменитості", "Світські події", "Шоу-бізнес", "Скандали", "Інтерв'ю"],
            "Наука": ["Фізика", "Біологія", "Хімія", "Космос", "Наукові відкриття", "Дослідження"],
            "Подорожі": ["Туризм", "Авіаперельоти", "Готелі", "Екскурсії", "Поради мандрівникам", "Екзотичні місця"],
            "Мода": ["Тренди", "Дизайнери", "Модні покази", "Стиль знаменитостей", "Поради стилістів", "Краса"],
            "Їжа": ["Рецепти", "Ресторани", "Кулінарія", "Національні кухні", "Здорове харчування", "Напої"],
            "Автомобілі": ["Нові моделі", "Тест-драйви", "Автотехнології", "Авторинок", "Тюнінг", "Електромобілі"],
            "Нерухомість": ["Купівля", "Оренда", "Будівництво", "Дизайн інтер'єру", "Ринок нерухомості", "Інвестиції"],
            "Сім'я": ["Виховання дітей", "Відносини", "Батьківство", "Шлюб", "Сімейна психологія", "Школярі"],
            "Історія": ["Древній світ", "Середньовіччя", "Новітня історія", "Археологія", "Історичні постаті"],
            "Природа": ["Екологія", "Тварини", "Рослини", "Національні парки", "Зміна клімату", "Охорона довкілля"],
            "Релігія": ["Християнство", "Іслам", "Іудаїзм", "Буддизм", "Духовні практики", "Релігійні свята"],
            "Військова тематика": ["Армія", "Озброєння", "Військова історія", "Конфлікти", "Стратегія", "Безпека"],
            "Право": ["Законодавство", "Судові справи", "Правова допомога", "Злочини", "Права людини"],
            "Робота та кар'єра": ["Вакансії", "Співбесіди", "Кар'єрне зростання", "Професійний розвиток", "Фріланс"],
            "Хобі": ["Рукоділля", "Колекціонування", "Садівництво", "Фотографія", "DIY", "Спортивні хобі"],
            "Тварини": ["Домашні улюбленці", "Дика природа", "Ветеринарія", "Зоопарки", "Захист тварин"],
            "Література": ["Книги", "Автори", "Літературні премії", "Огляди книг", "Поезія", "Сучасна література"],
            "Мистецтво": ["Живопис", "Скульптура", "Графіка", "Сучасне мистецтво", "Музеї", "Архітектура"],
            "Музика": ["Поп", "Рок", "Класична музика", "Джаз", "Хіп-хоп", "Концерти", "Фестивалі"],
            "Кіно": ["Нові фільми", "Рецензії", "Актори", "Режисери", "Кінофестивалі", "Класика"],
            "Телебачення": ["Серіали", "Шоу", "Телепрограми", "Реаліті-шоу", "Документалістика"],
            "Ігри": ["Відеоігри", "Мобільні ігри", "Кіберспорт", "Настільні ігри", "Геймдев", "Огляди ігор"],
            "Інтернет": ["Соціальні мережі", "Блоги", "Веб-сайти", "Онлайн-сервіси", "Веб-розробка"],
            "Соціальні медіа": ["Instagram", "Facebook", "Twitter", "TikTok", "YouTube", "Тренди"],
            "Екологія": ["Забруднення", "Переробка", "Зелена енергетика", "Збереження ресурсів", "Кліматичні зміни"],
            "Психологія": ["Саморозвиток", "Стрес", "Емоційний інтелект", "Терапія", "Мотивація", "Поведінка"],
            "Інше": ["Різне", "Незвичайне", "Цікаві факти", "Думки", "Опитування"]
        }

    def _get_default_keywords(self) -> Dict[str, List[str]]:
        return {
            "Новини": [
                "новини", "сьогодні", "подія", "відбулося", "останні", "актуальне",
                "головне", "інформація", "репортаж", "повідомлення", "брифінг", "прес-конференція"
            ],
            "Спорт": [
                "спорт", "футбол", "змагання", "чемпіонат", "медаль", "перемога",
                "гол", "матч", "турнір", "олімпіада", "команда", "тренер", "гравець",
                "баскетбол", "теніс", "хокей", "бокс", "фігурне катання", "легка атлетика"
            ],
            "Технології": [
                "технології", "інновації", "гаджет", "комп'ютер", "штучний інтелект",
                "робот", "додаток", "програма", "смартфон", "планшет", "ноутбук",
                "кібербезпека", "криптовалюта", "блокчейн", "стартап", "IT", "розробка",
                "програмування", "код", "алгоритм", "автоматизація", "віртуальна реальність",
                "доповнена реальність", "IoT", "інтернет речей", "сервер", "хмара"
            ],
            "Культура": [
                "культура", "мистецтво", "фільм", "музика", "вистава", "концерт",
                "виставка", "галерея", "театр", "музей", "опера", "балет", "симфонія",
                "фестиваль", "вернісаж", "художник", "композитор", "режисер", "актор",
                "письменник", "поет", "література", "книга", "роман", "драма", "комедія"
            ],
            "Політика": [
                "політика", "уряд", "президент", "парламент", "закон", "вибори",
                "депутат", "міністр", "прем'єр", "опозиція", "партія", "голосування",
                "демократія", "реформа", "дипломатія", "переговори", "самміт", "конфлікт",
                "санкції", "рішення", "заява", "рада", "конституція", "указ", "договір"
            ],
            "Економіка": [
                "економіка", "бізнес", "фінанси", "ринок", "валюта", "гроші",
                "банк", "кредит", "біржа", "акції", "дивіденди", "інвестиції",
                "податки", "бюджет", "інфляція", "девальвація", "стагнація", "зростання",
                "криза", "торгівля", "експорт", "імпорт", "тариф", "субсидії", "аукціон"
            ],
            "Здоров'я": [
                "здоров'я", "медицина", "ліки", "хвороба", "лікування", "терапія",
                "вакцина", "діагностика", "симптоми", "профілактика", "хірургія",
                "лікар", "пацієнт", "клініка", "лікарня", "аптека", "рецепт",
                "епідемія", "пандемія", "карантин", "вірус", "бактерія", "алергія",
                "харчування", "дієта", "імунітет", "вітаміни", "фітнес", "йога", "сон"
            ],
            "Освіта": [
                "освіта", "університет", "школа", "навчання", "знання", "викладач",
                "студент", "учень", "іспит", "тест", "залік", "диплом", "атестат",
                "курс", "лекція", "семінар", "тренінг", "дистанційне навчання",
                "репетитор", "педагогіка", "методика", "підручник", "стипендія",
                "гурток", "факультет", "кафедра", "ректор", "директор", "науково-дослідний"
            ],
            "Розваги": [
                "розваги", "шоу", "зірка", "знаменитість", "кіно", "телебачення",
                "серіал", "премія", "червона доріжка", "скандал", "інтрига", "шоу-бізнес",
                "світське життя", "вечірка", "клуб", "концерт", "роман", "весілля",
                "розлучення", "модель", "блогер", "інфлюенсер", "телешоу", "реаліті-шоу"
            ],
            "Наука": [
                "наука", "дослідження", "відкриття", "експеримент", "теорія", "гіпотеза",
                "лабораторія", "вчений", "науковець", "фізика", "хімія", "біологія",
                "астрономія", "космос", "молекула", "атом", "ген", "ДНК", "клон",
                "мікроскоп", "телескоп", "частинка", "квант", "реакція", "елемент",
                "клітина", "організм", "еволюція", "нейрон", "синапс", "геном"
            ],
            "Подорожі": [
                "подорож", "туризм", "мандрівка", "відпустка", "курорт", "пляж",
                "готель", "літак", "аеропорт", "поїзд", "корабель", "круїз", "екскурсія",
                "віза", "паспорт", "квиток", "бронювання", "турагентство", "гід",
                "пам'ятка", "музей", "галерея", "собор", "замок", "пізнавальний туризм",
                "екстремальний туризм", "гастрономічний туризм", "all inclusive"
            ],
            "Мода": [
                "мода", "стиль", "тренд", "одяг", "взуття", "аксесуари", "колекція",
                "дизайнер", "показ", "подіум", "модель", "фотосесія", "бренд", "кутюр",
                "прет-а-порте", "вінтаж", "ретро", "сезон", "образ", "макіяж", "зачіска",
                "манікюр", "косметика", "парфуми", "бутік", "шопінг", "розпродаж"
            ],
            "Їжа": [
                "їжа", "кулінарія", "рецепт", "страва", "ресторан", "кафе", "бар",
                "шеф-кухар", "меню", "смак", "аромат", "інгредієнти", "приготування",
                "випічка", "десерт", "напій", "коктейль", "дієта", "вегетаріанство",
                "веганство", "органічна їжа", "національна кухня", "фаст-фуд", "вино",
                "сир", "шоколад", "кава", "чай", "пиво", "гриль", "барбекю", "фермерський"
            ],
            "Автомобілі": [
                "автомобіль", "машина", "авто", "транспорт", "двигун", "мотор",
                "привід", "потужність", "швидкість", "гальма", "кузов", "седан",
                "кросовер", "позашляховик", "спорткар", "електромобіль", "гібрид",
                "бензин", "дизель", "тест-драйв", "автосалон", "дилер", "страхування",
                "техогляд", "ремонт", "запчастини", "тюнінг", "аварія", "штраф", "правила"
            ],
            "Нерухомість": [
                "нерухомість", "квартира", "будинок", "земля", "ділянка", "оренда",
                "іпотека", "забудовник", "новобудова", "вторинний ринок", "житло",
                "комерційна нерухомість", "офіс", "рієлтор", "агентство", "договір",
                "інвестиція", "власність", "кадастр", "реєстрація", "документи",
                "ремонт", "дизайн", "інтер'єр", "екстер'єр", "ландшафт", "меблі"
            ],
            "Сім'я": [
                "сім'я", "родина", "шлюб", "весілля", "діти", "батьки", "виховання",
                "материнство", "батьківство", "вагітність", "пологи", "грудне вигодовування",
                "дитячий садок", "школа", "підліток", "психологія", "відносини", "конфлікт",
                "розлучення", "аліменти", "опіка", "традиції", "свята", "сімейний бюджет",
                "побут", "домогосподарство", "спадщина", "династія", "родовід"
            ],
            "Історія": [
                "історія", "минуле", "древність", "середньовіччя", "ренесанс", "імперія",
                "держава", "царство", "король", "імператор", "війна", "революція", "повстання",
                "археологія", "артефакт", "розкопки", "музей", "експонат", "колекція",
                "історичний", "епоха", "період", "століття", "тисячоліття", "літопис",
                "хроніки", "мемуари", "спогади", "документи", "архів", "геральдика"
            ],
            "Природа": [
                "природа", "екологія", "довкілля", "клімат", "погода", "атмосфера",
                "рослини", "тварини", "ліс", "гори", "море", "океан", "річка", "озеро",
                "заповідник", "національний парк", "біосфера", "біорізноманіття",
                "вимираючі види", "забруднення", "охорона", "сталий розвиток", "органічне",
                "переробка", "відходи", "енергозбереження", "альтернативна енергія"
            ],
            "Релігія": [
                "релігія", "віра", "бог", "духовність", "душа", "молитва", "храм",
                "церква", "собор", "мечеть", "синагога", "священик", "пастор", "імам",
                "рабин", "монах", "монастир", "обряд", "ритуал", "свято", "паломництво",
                "пост", "біблія", "коран", "тора", "священне писання", "теологія",
                "конфесія", "деномінація", "екуменізм", "атеїзм", "агностицизм"
            ],
            "Військова тематика": [
                "військо", "армія", "флот", "авіація", "оборона", "зброя", "ракета",
                "танк", "літак", "корабель", "підводний човен", "артилерія", "піхота",
                "десант", "розвідка", "контррозвідка", "стратегія", "тактика", "бій",
                "операція", "місія", "атака", "оборона", "війна", "конфлікт", "перемир'я",
                "мир", "ветеран", "герой", "нагорода", "присяга", "статут", "військовий бюджет"
            ],
            "Право": [
                "право", "закон", "юриспруденція", "суд", "адвокат", "прокурор", "суддя",
                "юрист", "нотаріус", "позов", "апеляція", "кодекс", "стаття", "параграф",
                "законодавство", "нормативний акт", "постанова", "договір", "угода",
                "контракт", "злочин", "покарання", "в'язниця", "штраф", "відповідальність",
                "правосуддя", "правопорушення", "права людини", "правовий захист"
            ],
            "Робота та кар'єра": [
                "робота", "кар'єра", "професія", "посада", "вакансія", "резюме", "CV",
                "співбесіда", "працевлаштування", "зарплата", "бонус", "премія", "колектив",
                "офіс", "віддалена робота", "фріланс", "підвищення", "звільнення", "трудовий договір",
                "трудова книжка", "стаж", "досвід", "навички", "компетенції", "кваліфікація",
                "професійний розвиток", "тімбілдинг", "мотивація", "лідерство", "управління"
            ],
            "Хобі": [
                "хобі", "захоплення", "дозвілля", "колекціонування", "рукоділля", "шиття",
                "в'язання", "вишивка", "плетіння", "різьба", "ліплення", "малювання",
                "моделювання", "конструювання", "садівництво", "городництво", "квітникарство",
                "фотографія", "відеозйомка", "блогінг", "ігри", "головоломки", "DIY",
                "декупаж", "скрапбукінг", "кардмейкінг", "печворк", "квілтинг", "карвінг"
            ],
            "Тварини": [
                "тварини", "фауна", "ссавці", "птахи", "риби", "рептилії", "амфібії",
                "комахи", "дикі тварини", "домашні тварини", "домашні улюбленці", "кіт",
                "собака", "хом'як", "морська свинка", "папуга", "рибки", "ветеринар",
                "ветеринарія", "щеплення", "харчування тварин", "догляд", "дресирування",
                "зоопарк", "заповідник", "притулок для тварин", "захист тварин"
            ],
            "Література": [
                "література", "книга", "роман", "повість", "оповідання", "новела", "поема",
                "вірш", "поезія", "проза", "драматургія", "комедія", "трагедія", "автор",
                "письменник", "поет", "драматург", "читач", "видавництво", "видання",
                "бестселер", "премія", "рецензія", "огляд", "анотація", "фантастика",
                "фентезі", "детектив", "трилер", "мелодрама", "історичний роман"
            ],
            "Мистецтво": [
                "мистецтво", "творчість", "живопис", "графіка", "скульптура", "архітектура",
                "фотографія", "кінематограф", "театр", "опера", "балет", "музика",
                "література", "поезія", "дизайн", "мода", "художник", "скульптор",
                "архітектор", "фотограф", "режисер", "актор", "музикант", "композитор",
                "виставка", "галерея", "музей", "аукціон", "колекція", "шедевр",
                "стиль", "напрям", "школа", "академія", "авангард", "модернізм", "постмодернізм"
            ],
            "Музика": [
                "музика", "пісня", "мелодія", "гармонія", "ритм", "нота", "акорд",
                "композиція", "композитор", "виконавець", "співак", "музикант", "гітарист",
                "піаніст", "скрипаль", "диригент", "оркестр", "ансамбль", "група", "гурт",
                "концерт", "тур", "альбом", "сингл", "кліп", "рок", "поп", "джаз", "блюз",
                "класична музика", "електронна музика", "хіп-хоп", "реп", "фолк", "кантрі"
            ],
            "Кіно": [
                "кіно", "фільм", "кінематограф", "актор", "актриса", "режисер", "сценарист",
                "оператор", "продюсер", "монтаж", "спецефекти", "костюми", "декорації",
                "саундтрек", "кінофестиваль", "премія", "Оскар", "Золота пальмова гілка",
                "блокбастер", "артхаус", "драма", "комедія", "трилер", "бойовик", "жахи",
                "мелодрама", "документальний", "мультфільм", "аніме", "кінотеатр", "прокат"
            ],
            "Телебачення": [
                "телебачення", "ТБ", "серіал", "шоу", "телепрограма", "телепередача",
                "телеканал", "ведучий", "телеведучий", "прямий ефір", "трансляція",
                "реаліті-шоу", "ток-шоу", "телевізор", "супутникове ТБ", "кабельне ТБ",
                "цифрове ТБ", "стрімінг", "телебачення на замовлення", "відеокліп",
                "телесеріал", "ситком", "драма", "телемарафон", "рейтинг", "аудиторія"
            ],
            "Ігри": [
                "гра", "відеогра", "комп'ютерна гра", "консоль", "PlayStation", "Xbox",
                "Nintendo", "PC", "мобільна гра", "геймер", "геймінг", "кіберспорт", "стрим",
                "летсплей", "гейммейкер", "інді-гра", "ААА-гра", "шутер", "стратегія", "RPG",
                "MMORPG", "пригоди", "головоломки", "графіка", "ігровий двигун", "ігрова механіка",
                "аватар", "персонаж", "рівень", "квест", "досягнення", "геймдев", "розробка ігор"
            ],
            "Інтернет": [
                "інтернет", "веб", "сайт", "портал", "блог", "форум", "соцмережа",
                "браузер", "пошуковик", "домен", "хостинг", "сервер", "провайдер",
                "трафік", "контент", "SEO", "реклама", "банер", "таргетинг", "кліки",
                "підписники", "аудиторія", "веб-дизайн", "верстка", "responsive",
                "мобільна версія", "додаток", "хмарне сховище", "передплата", "paywall"
            ],
            "Соціальні медіа": [
                "соцмережі", "соціальні медіа", "Facebook", "Instagram", "Twitter", "TikTok",
                "YouTube", "Telegram", "Viber", "WhatsApp", "LinkedIn", "Pinterest", "Snapchat",
                "блог", "блогер", "інфлюенсер", "контент", "пост", "сторіз", "підписники",
                "фоловери", "лайки", "коментарі", "репости", "хештег", "тренд", "вірусний",
                "органічне охоплення", "таргетована реклама", "SMM", "контент-план"
            ],
            "Екологія": [
                "екологія", "довкілля", "природа", "забруднення", "відходи", "сміття",
                "переробка", "утилізація", "вторинна сировина", "сортування", "сталий розвиток",
                "зелена енергетика", "відновлювані джерела", "сонячні батареї", "вітрогенератори",
                "біопаливо", "електромобіль", "вуглецевий слід", "парниковий ефект",
                "глобальне потепління", "зміна клімату", "озоновий шар", "вимирання видів",
                "деградація ґрунтів", "вирубка лісів", "опустелювання", "забруднення повітря"
            ],
            "Психологія": [
                "психологія", "психіка", "свідомість", "підсвідомість", "психоаналіз",
                "поведінка", "характер", "особистість", "темперамент", "емоції", "почуття",
                "стрес", "депресія", "тривога", "фобія", "травма", "терапія", "психотерапія",
                "психолог", "психіатр", "психотерапевт", "діагностика", "тест", "консультація",
                "саморозвиток", "самопізнання", "мотивація", "цілі", "цінності", "хобі"
            ],
            "Інше": [
                "інше", "різне", "цікаве", "дивовижне", "унікальне", "незвичайне",
                "рекорд", "досягнення", "феномен", "загадка", "таємниця", "містика",
                "паранормальне", "НЛО", "аномалія", "чудо", "відкриття", "знахідка",
                "колекція", "колекціонування", "антикваріат", "раритет", "сенсація",
                "факт", "топ", "рейтинг", "опитування", "список", "огляд", "порівняння"
            ]
        }